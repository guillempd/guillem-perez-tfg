import tweepy
import twitter
import matplotlib.pyplot


def main():
    api = twitter.get_api()
    core_user_ids = [14336062, 2904896141, 84053338, 710827859124871168, 31416615, 363696047]
    non_core_user_ids = [490502486, 297981351, 39856676, 919823503502794752, 236144615, 936218388485074944, 592035721, 784608780898168832, 938378704010477568, 938603036167073795, 934892831960903682, 914378534726127617, 2267409746, 910897290688286721, 2796434394, 2733170825, 201887211, 771716492, 325432007, 138406031, 933667336741113856, 337186065, 915169085457096705, 928027672449634305, 4829177314, 846372400233168897, 1577339744, 4012015533, 89684979, 930776423576555521, 450964701, 3058695760, 4195840943, 114496905, 934029297890811904, 608491288, 909381542878892032, 923857686663389184, 938060458677981185, 162814473, 938698168790913024, 935186429411495938, 886680683657252865, 937316704018948104, 2349763993, 154838835, 937447240150417410, 483247487, 378030390, 607477318, 1415013386, 416903089, 861123169, 937823034081193984, 155614277, 259731256, 937739225159651333, 2326091286, 933977111936819202, 2769695395, 934534456920166402, 528613110, 934903237785858048, 938324750291603457, 451423199, 937818609392541697, 4420003156, 705369490100494336, 935607916886970368, 3097816913, 912357425453391874, 2436087960, 933485947827769345, 410171376, 287808248, 2876905582, 923959548867686401, 897761932517793792, 245702937, 405891697, 924009421725995009, 700568280, 938151954550874114, 938149306263011328, 302252416, 936652545778442243, 382058128, 2524784408, 2790329928, 938816910053052416, 3291858154, 245728328, 937088431984869376, 938807480997568513, 4745968881, 938869419270434816, 938361276434190336, 4626095953, 938133863133532162, 3081748970]

    results = []
    i = 0
    for user_id in non_core_user_ids:
        # for i in range(16,100):
        # user_id = non_core_user_ids[i]
        friends = []
        try:
            for page in tweepy.Cursor(api.friends_ids, user_id=user_id).pages():
                friends += page
        except:
            i += 1
            continue
        count = 0
        for core_id in core_user_ids:
            if core_id in friends:
                count += 1
        results.append(count)
        print(i, ':', count)
        i += 1
    print(results)



if __name__ == '__main__':
    main()
    exit(0)
